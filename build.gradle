apply plugin: 'java'
apply plugin: 'shadow'

buildDir = 'target'

sourceCompatibility = 1.7
version = '0.1'

repositories {
    jcenter()
}

dependencies {

    compile 'org.openjdk.jmh:jmh-core:1.7'
    compile 'org.openjdk.jmh:jmh-generator-annprocess:1.7'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:0.8'
    }
}

shadow {
    outputFile = new File("${buildDir}/benchmarks.jar")

    transformer(com.github.jengelman.gradle.plugins.shadow.transformers.ManifestResourceTransformer) {
        mainClass = 'org.openjdk.jmh.Main'
    }
}
